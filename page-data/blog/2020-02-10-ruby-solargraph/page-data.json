{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/2020-02-10-ruby-solargraph","result":{"data":{"site":{"siteMetadata":{"title":"Miksin, Software Engineer","subtitles":["Hello! I am Miksin","I'm a Software Engineer","I'm Painting","I'm Programming","I come from TAIWAN"],"description":"Software Engineer","author":"Miksin","links":[{"name":"Home","path":"/"},{"name":"About","path":"/about"},{"name":"Blog","path":"/blog"}],"socialLinks":[{"name":"github","link":"https://github.com/miksin"},{"name":"twitter","link":"https://twitter.com/miksin_"},{"name":"instagram","link":"https://www.instagram.com/miksin_/"},{"name":"pixiv","link":"https://pixiv.me/miksin"},{"name":"youtube","link":"https://www.youtube.com/channel/UCmYleBoaTtNtPVZkaUwFxOw"}]}},"page":{"html":"<h2>前言</h2>\n<p>對於一個語言或框架的初學者來說，有一個強大的編輯器會要效率很多。\n這裏推薦給像我一樣開發 Rails 專案的新手們一個 VSCode 的 extension：\n<a href=\"https://marketplace.visualstudio.com/items?itemName=castwide.solargraph\">Ruby Solargraph</a></p>\n<h2>安裝 Ruby Solargraph</h2>\n<p>首先是要先在自己的環境中安裝<code class=\"language-text\">solargraph</code>，直接使用 gem：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ gem <span class=\"token function\">install</span> solargraph</code></pre></div>\n<p>沒有安裝<code class=\"language-text\">gem</code>的話，基本的 ruby 環境設定可以參考<a href=\"https://github.com/rbenv/rbenv\">這裡</a>。</p>\n<p>安裝完成後，可以確認一下：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ solargraph -v\n<span class=\"token number\">0.38</span>.5</code></pre></div>\n<p>接著在 VSCode 也安裝 extension，直接用 GUI 就可以，或是你喜歡透過 command line：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ code --install-extension castwide.solargraph</code></pre></div>\n<p>我原先只做到這裡，以為就能動了，但我的 VSCode 只會一直顯示<code class=\"language-text\">starting the solargraph language server</code>而無法啟動。這應該是因為 VSCode 找不到 solargraph，我們可以手動設定它的路徑。</p>\n<p>先找到 solargraph 的位置：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">which</span> solargraph\n/Users/<span class=\"token punctuation\">{</span>username<span class=\"token punctuation\">}</span>/.rbenv/shims/solargraph</code></pre></div>\n<p>在 VSCode 的設定<code class=\"language-text\">settings.json</code>中加入其路徑</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"solargraph.commandPath\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/Users/limin.chen/.rbenv/shims/solargraph\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>再重開 VSCode 後，發現 solargraph 成功執行了！</p>\n<h2>追加 Rails 支援</h2>\n<p>雖然 Ruby Solargraph 成功執行了，但要再多做一些設定才能支援 Rails。</p>\n<p>先在 Rails 專案目錄中執行指令並產生檔案<code class=\"language-text\">.solargraph.yml</code>：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ solargraph config</code></pre></div>\n<p>然後編輯這個檔案，並將<code class=\"language-text\">require: []</code>的部分修改並加入以下內容：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">require:\n- actioncable\n- actionmailer\n- actionpack\n- actionview\n- activejob\n- activemodel\n- activerecord\n- activestorage\n- activesupport</code></pre></div>\n<p>這樣就設定完成了。</p>\n<p>如果不希望 git 將這個檔案也加入 tracking 的話可以把<code class=\"language-text\">.solargraph.yml</code>加入專案的<code class=\"language-text\">.gitignore</code>裡。或是加進全域設定<code class=\"language-text\">~/.config/git/ignore</code>。</p>\n<h2>References</h2>\n<ul>\n<li><a href=\"https://marketplace.visualstudio.com/items?itemName=castwide.solargraph\">Ruby Solargraph</a></li>\n<li><a href=\"https://qiita.com/hideki0145/items/d6a18095f95d57eebe96\">VSCode で Ruby Solargraph 拡張機能を使ってみた話</a></li>\n<li><a href=\"https://github.com/castwide/solargraph/issues/87\">solargraph issues - Rails support</a></li>\n<li><a href=\"https://github.com/castwide/vscode-solargraph/issues/108\">solargraph issues - Couldn't start client Ruby Language Server</a></li>\n</ul>","frontmatter":{"date":"February 10, 2020","path":"/blog/2020-02-10-ruby-solargraph","title":"在VSCode安裝Ruby Solargraph開發Rails專案","tags":["ruby","rails","vscode","solargraph"]}}},"pageContext":{"next":{"frontmatter":{"path":"/blog/2020-03-12-travis-ci-git-pages","title":"使用Travis CI自動部署靜態網頁到GitHub Pages"}},"prev":{"frontmatter":{"path":"/blog/2020-02-07-gatsby-fragments","title":"在Gatsby.js中使用fragments讓程式碼更簡潔"}}}},"staticQueryHashes":["63159454"]}